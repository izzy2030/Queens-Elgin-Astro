---
import TrustBadges from "./TrustBadges.astro";
import type { BrandConfig } from "../brands";

const { brand } = Astro.props as { brand: BrandConfig };

const nameParts = brand.name.split(" ");
const firstName = nameParts[0];
const secondName = nameParts.length > 1 ? nameParts[1] : "";
const restName = nameParts.length > 2 ? nameParts.slice(2).join(" ") : "";

// Clean up titles (e.g. "Mobile Tire Service in Elgin, IL" -> "Elgin, IL")
const cleanTitle = (title: string) => {
  return title.replace("Mobile Tire Service in ", "").trim();
};
---

<footer
  class="theme-dark !bg-black text-gray-400 py-12 border-t border-gray-800"
  style="--bg-surface: #000000; background-color: #000000 !important;"
>
  <div class="container mx-auto px-6 max-w-7xl">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
      {/* Column 1: Brand */}
      <div>
        <a href={`/`} class="inline-block group mb-4">
          {
            brand.logoPathWhite ? (
              <img
                src={brand.logoPathWhite}
                alt={brand.name}
                class="h-10 w-auto object-contain mb-2"
              />
            ) : (
              <h3 class="text-white font-black text-xl uppercase tracking-tight group-hover:opacity-80 transition-opacity">
                {firstName}{" "}
                <span class="text-queens-secondary">{secondName}</span>{" "}
                {restName}
              </h3>
            )
          }
        </a>
        <p class="text-sm leading-relaxed max-w-xs text-gray-400">
          {brand.name} brings the tire shop directly to your home or office. We provide
          professional installation, balancing, and repair services across the Chicago
          suburbs, saving you time and hassle.
        </p>

        <address class="not-italic mt-6 text-sm text-gray-500 leading-relaxed">
          <strong class="text-white block mb-1">{brand.name}</strong>
          {brand.address}<br />
          <a
            href={`tel:${brand.phone.replace(/\D/g, "")}`}
            class="hover:text-queens-secondary transition-colors"
          >
            {brand.phone}
          </a>
        </address>
      </div>

      {/* Column 2: Quick Links */}
      <div class="rich-text">
        <h2 class="text-white !mt-0 mb-4">Quick Links</h2>
        <ul class="space-y-2">
          <li>
            <a
              href={`/`}
              data-astro-prefetch="hover"
              class="text-sm hover:text-queens-secondary transition-colors"
              >Home</a
            >
          </li>
          <li>
            <a
              href={`/about`}
              data-astro-prefetch="hover"
              class="text-sm hover:text-queens-secondary transition-colors"
              >About Us</a
            >
          </li>
          <li>
            <a
              href={`/services`}
              data-astro-prefetch="hover"
              class="text-sm hover:text-queens-secondary transition-colors"
              >Services</a
            >
          </li>
          <li>
            <a
              href={`/buy-new-tires`}
              data-astro-reload
              class="text-sm hover:text-queens-secondary transition-colors"
              >Find New Tires</a
            >
          </li>
          <li>
            <a
              href={`/tire-installation`}
              data-astro-prefetch="hover"
              class="text-sm hover:text-queens-secondary transition-colors"
              >Schedule Install</a
            >
          </li>
          <li>
            <a
              href={`/faq`}
              data-astro-prefetch="hover"
              class="text-sm hover:text-queens-secondary transition-colors"
              >FAQ</a
            >
          </li>
          <li>
            <a
              href={`/terms`}
              data-astro-prefetch="hover"
              class="text-sm hover:text-queens-secondary transition-colors"
              >Terms of Use</a
            >
          </li>
          <li>
            <a
              href={`/privacy`}
              data-astro-prefetch="hover"
              class="text-sm hover:text-queens-secondary transition-colors"
              >Privacy Policy</a
            >
          </li>
        </ul>
      </div>

      {/* Column 3: Contact */}
      <div class="rich-text">
        <h2 class="text-white !mt-0 mb-4">Contact Us</h2>
        <ul class="text-sm space-y-4">
          <li class="flex items-start gap-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5 text-queens-secondary flex-shrink-0"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"
              ></path>
            </svg>
            <a
              href="/contact"
              class="hover:text-queens-secondary transition-colors"
              >Get in touch</a
            >
          </li>
          <li class="flex items-start gap-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5 text-queens-secondary flex-shrink-0"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25z"
              ></path>
            </svg>
            <a
              href={`tel:${brand.phone.replace(/\D/g, "")}`}
              class="hover:text-queens-secondary transition-colors"
              >{brand.phone}</a
            >
          </li>
        </ul>
      </div>
    </div>

    {/* Bottom Bar */}
    <div
      class="pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4 text-sm"
    >
      <p>
        &copy; {new Date().getFullYear()}
        {brand.name}. Serving Northern Illinois.
      </p>
      <TrustBadges />
    </div>
  </div>
</footer>
